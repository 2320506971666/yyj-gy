<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Gallery - Triple-Y</title>

    <!-- ======== 网站图标 ======== -->
    <link rel="icon" href="artistweb/images/灰蓝渐变-噪点.jpg">

    <!-- ======== 性能优化 ======== -->
    <!-- 预加载首屏关键资源，提高首屏加载速度 -->
    <link rel="preload" href="artistweb/images/个人图片作品/IMG_0082.jpg" as="image" fetchpriority="high">
    <!-- 预加载关键CSS -->
    <link rel="preload" href="shared/css/gallery.css" as="style">
    <!-- 预加载关键JS -->
    <link rel="preload" href="shared/js/gallery-main.js" as="script" type="module">

    <!-- 预连接第三方资源域 -->
    <link rel="preconnect" href="https://cdn.jsdelivr.net">
    <link rel="preconnect" href="https://unpkg.com">
    <link rel="preconnect" href="https://fonts.font.im" crossorigin>
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <!-- ======== 样式资源 ======== -->
    <!-- 主样式表 - 关键CSS立即加载 -->
    <link rel="stylesheet" href="shared/css/gallery.css">
    <!-- 移动端优化样式表 -->
    <link rel="stylesheet" href="shared/css/mobile-gallery.css">
    <!-- 本地字体 -->
    <link rel="stylesheet" href="shared/css/fonts.css">

    <!-- 直接引入 Gallery 页面需要的字体 -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Jomhuria&family=Jim+Nightshade&family=Josefin+Slab:wght@400;600;700&family=Cinzel:wght@400;500;600&family=Reenie+Beanie&display=swap">

    <!-- 非阻塞加载Swiper样式 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" media="print" onload="this.media='all'">
    <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"></noscript>

    <!-- 响应式缩放因子 -->
    <style>
        :root {
            --scale-factor: 1;
        }

        @media screen and (max-width: 360px) { :root { --scale-factor: 0.22; } }
        @media screen and (min-width: 361px) and (max-width: 480px) { :root { --scale-factor: 0.3; } }
        @media screen and (min-width: 481px) and (max-width: 768px) { :root { --scale-factor: 0.4; } }

        /* 移动端浮动动画样式 */
        @media (min-width: 769px) {
            /* 仅在非移动端应用这些样式 */
            .swiper-slide:first-child {
                opacity: 1;
                visibility: visible;
            }
            .gallery-text {
                opacity: 1;
            }
        }
    </style>

    <!-- ======== JS库 ======== -->
    <!-- GSAP动画库和Swiper - 优先加载 -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script src="https://unpkg.com/gsap@3/dist/gsap.min.js"></script>


</head>

<body class="gallery-page">
    <!-- 导航栏占位符 -->

    <!-- 内容页面不需要导航栏 -->

    <!-- ======== 主内容区域 ======== -->
    <main>
        <div class="gallery-content">
            <div class="gallery-content">
                <!-- 幻灯片容器 -->
                <div class="gallery-title">
                    <div class="swiper mySwiper">
                        <div class="swiper-wrapper">
                            <!-- 第1张幻灯片：Gallery标题 -->
                            <div class="swiper-slide" style="cursor: pointer;" onclick="window.parent.navigateTo('tibet.html')">
                                <img src="artistweb/images/个人图片作品/IMG_0082.jpg" alt="Gallery Header Image" fetchpriority="high">
                                <div id="gallery-text-override" class="gallery-text">
                                    <span class="g">G</span>
                                    <span class="a">a</span>
                                    <span class="l1">l</span>
                                    <span class="l2">l</span>
                                    <span class="e">e</span>
                                    <span class="r">r</span>
                                    <span class="y">y</span>
                                </div>
                                <div class="awaits" style="left: 46% !important; transform: translate(-50%, 0) scale(var(--scale-factor, 1)) !important;">Awaits</div>
                            </div>

                            <!-- 第2张幻灯片：Northern Journey视频 -->
                            <div class="swiper-slide" style="cursor: pointer;" onclick="window.parent.navigateTo('north.html')">
                                <div class="video-container">
                                    <video preload="metadata" autoplay muted playsinline
                                           class="hero-image tibet-video"
                                           disablePictureInPicture
                                           controlsList="nodownload nofullscreen noremoteplayback"
                                           loading="lazy"
                                           width="1920"
                                           height="1080"
                                           data-video-id="tibet"
                                           poster="artistweb/images/tibet-poster.jpg">
                                        <source src="artistweb/videos/video1.webm" type="video/webm">
                                        <source src="artistweb/videos/video1.mp4" type="video/mp4">
                                        Your browser does not support HTML5 video.
                                    </video>
                                    <div class="video-placeholder" style="background-color: #000;"></div>
                                    <div class="video-title">
                                        <div class="river-text">Northern Journey</div>
                                    </div>
                                </div>
                            </div>

                            <!-- 第3张幻灯片：Summer Sense视频 -->
                            <div class="swiper-slide" style="cursor: pointer;" onclick="window.parent.navigateTo('film.html')">
                                <div class="video-container">
                                    <video preload="metadata" autoplay muted playsinline
                                           class="hero-image"
                                           disablePictureInPicture
                                           controlsList="nodownload nofullscreen noremoteplayback"
                                           loading="lazy"
                                           width="1920"
                                           height="1080"
                                           data-video-id="summer"
                                           poster="artistweb/images/summer-poster.jpg">
                                        <source src="artistweb/videos/video2.webm" type="video/webm">
                                        <source src="artistweb/videos/video2.mp4" type="video/mp4">
                                        Your browser does not support HTML5 video.
                                    </video>
                                    <div class="video-placeholder" style="background-color: #000;"></div>
                                </div>
                            </div>

                            <!-- 第4张幻灯片：Island视频 -->
                            <div class="swiper-slide" style="cursor: pointer;" onclick="window.parent.navigateTo('sanya.html')">
                                <div class="video-container">
                                    <video preload="metadata" autoplay muted playsinline
                                           class="hero-image tibet-video"
                                           disablePictureInPicture
                                           controlsList="nodownload nofullscreen noremoteplayback"
                                           loading="lazy"
                                           width="1920"
                                           height="1080"
                                           data-video-id="sanya"
                                           poster="artistweb/images/sanya-poster.jpg">
                                        <source src="artistweb/videos/video3.webm" type="video/webm">
                                        <source src="artistweb/videos/video3.mp4" type="video/mp4">
                                        Your browser does not support HTML5 video.
                                    </video>
                                </div>
                            </div>
                            </div>

                        <!-- 幻灯片控制器 -->
                        <div class="swiper-button-next"></div>
                        <div class="swiper-button-prev"></div>
                        <div class="swiper-pagination"></div>
                            </div>
                        </div>
            </div>
        </div>
    </main>

    <!-- 内容页面不需要页脚 -->

    <!-- ======== 脚本加载 ======== -->
    <!-- 内容页面不需要导航栏和页脚脚本 -->
    <!-- 动画脚本 -->
    <script src="shared/animation.js"></script>

    <!-- 画廊主脚本 - 使用type="module"确保模块加载 -->
    <script type="module" src="shared/js/gallery-main.js"></script>

    <!-- 移动端视频优化脚本 -->
    <script type="module">
        // 导入移动端视频优化器和海报生成器
        import { initMobileVideoOptimizer } from './shared/js/mobile-video-optimizer.js';
        import { generateVideoPoster } from './shared/js/generate-posters.js';

        // 页面加载完成后初始化
        document.addEventListener('DOMContentLoaded', () => {
            // 生成视频海报
            generateVideoPoster();

            // 初始化移动端视频优化
            initMobileVideoOptimizer();
        });
    </script>

    <!-- Gallery页面特定初始化脚本 -->
    <script>
        // 只添加gallery-page类，其他初始化由gallery-main.js处理
        document.addEventListener('DOMContentLoaded', function() {
            // 确保页面样式正确
            document.body.classList.add('gallery-page');
            console.log('Gallery页面类添加完成');
        });
    </script>
</body>
</html>